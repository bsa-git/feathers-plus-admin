(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{889:function(e,t,n){"use strict";n(19);var c={props:{dialog:Boolean,headerIcon:String,headerTitle:String,actionText:{type:String,default:"Close"},maxWidth:{type:Number,default:400}},computed:{showDialog:{get:function(){return this.dialog},set:function(e){this.$emit("onClose",e)}}}},o=n(16),r=n(21),l=n.n(r),m=n(876),d=n(276),v=n(256),h=n(128),f=n(905),_=n(860),x=n(257),O=n(874),w=n(62),y=n(80),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{scrollable:"","max-width":e.maxWidth},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("v-card",[n("v-toolbar",{attrs:{color:"primary",dark:""}},[e.headerIcon?n("v-icon",{staticClass:"mr-3"},[e._v(e._s(e.headerIcon))]):n("v-app-bar-nav-icon"),e._v(" "),n("v-toolbar-title",[e._v(e._s(e.headerTitle))]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showDialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1)],1),e._v(" "),n("v-card-text",[e._t("view-content")],2),e._v(" "),n("v-divider"),e._v(" "),n("v-card-actions",[n("v-btn",{staticClass:"mx-auto mb-3",attrs:{color:"primary",text:""},on:{click:function(t){e.showDialog=!1}}},[e._v(e._s(e.actionText))])],1)],1)],1)}),[],!1,null,null,null);t.a=component.exports;l()(component,{VAppBarNavIcon:m.a,VBtn:d.a,VCard:v.a,VCardActions:h.a,VCardText:h.b,VDialog:f.a,VDivider:_.a,VIcon:x.a,VSpacer:O.a,VToolbar:w.a,VToolbarTitle:y.a})},912:function(e,t,n){"use strict";var c={props:{btn1Text:String,btn2Text:String,clickBtn1:Function,clickBtn2:Function}},o=n(16),r=n(21),l=n.n(r),m=n(276),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-space-around mb-3"},[n("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.clickBtn1}},[e._v(e._s(e.btn1Text))]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.clickBtn2}},[e._v(e._s(e.btn2Text))])],1)}),[],!1,null,null,null);t.a=component.exports;l()(component,{VBtn:m.a})},948:function(e,t,n){var c=n(949),o=n(951),r=n(952);e.exports=function(object,e){return null==object?object:c(object,o(e),r)}},949:function(e,t,n){var c=n(950)();e.exports=c},950:function(e,t){e.exports=function(e){return function(object,t,n){for(var c=-1,o=Object(object),r=n(object),l=r.length;l--;){var m=r[e?l:++c];if(!1===t(o[m],m,o))break}return object}}},951:function(e,t,n){var c=n(419);e.exports=function(e){return"function"==typeof e?e:c}},952:function(e,t,n){var c=n(421),o=n(953),r=n(423);e.exports=function(object){return r(object)?c(object,!0):o(object)}},953:function(e,t,n){var c=n(205),o=n(422),r=n(954),l=Object.prototype.hasOwnProperty;e.exports=function(object){if(!c(object))return r(object);var e=o(object),t=[];for(var n in object)("constructor"!=n||!e&&l.call(object,n))&&t.push(n);return t}},954:function(e,t){e.exports=function(object){var e=[];if(null!=object)for(var t in Object(object))e.push(t);return e}},987:function(e,t,n){"use strict";n.r(t);n(10),n(8),n(6),n(4),n(7),n(74);var c=n(0),o=n(26),r=n(270),l=n(889),m=n(912),d=(n(65),n(277),{props:{search:String,labelSearch:String},computed:{searchItems:{get:function(){return this.search},set:function(e){this.$emit("onSearch",e)}}}}),v=n(16),h=n(21),f=n.n(h),_=n(871),x=n(873),O=n(858),component=Object(v.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{"append-icon":"fas fa-search",label:e.labelSearch,"single-line":"","hide-details":""},model:{value:e.searchItems,callback:function(t){e.searchItems=t},expression:"searchItems"}})],1)],1)}),[],!1,null,null,null),w=component.exports;f()(component,{VCol:_.a,VRow:x.a,VTextField:O.a});var y=n(20)("app:comp.admins-accounts-users"),k={components:{TreeviewTopBar:w},props:{getSelObject:Function},data:function(){return{search:"",active:[],open:[]}},computed:{users:function(){var data=[],e=this.$store.state.users.idField,t=this.$FeathersVuex.User.findInStore({query:{$sort:{fullName:1}}}).data;return y("Users from store:",t),t.forEach((function(t){var n=t[e],c=[];t.teams.forEach((function(e){c.push({id:"Team.name_".concat(e.id),name:"".concat(e.name)})})),y("teams:",c);var o={id:"User.fullName_".concat(n),name:"".concat(t.fullName," :"),children:[{id:"User.id_".concat(n),name:"id : ".concat(n)},{id:"User.profile_".concat(n),name:"Profile :",children:t.profile?[{id:"UserProfile.id_".concat(t.profile.id),name:"id : ".concat(t.profile.id)}]:[]},{id:"User.role_".concat(n),name:"Role :",children:t.role?[{id:"Role.name_".concat(t.role.id),name:"".concat(t.role.name)}]:[]},{id:"User.teams_".concat(n),name:"Teams(".concat(c.length?c.length:"Not",") :"),children:c}]};data.push(o)})),data},selected:function(){if(this.active.length){var e=this.active[0];return this.getSelObject(e)}}},watch:{selected:function(e){e&&this.openDialog()}},methods:{openDialog:function(){this.$emit("onOpenDialog")}}},S=n(257),j=n(1026),T=Object(v.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("treeview-top-bar",{attrs:{search:e.search,labelSearch:e.$t("management.search")},on:{onSearch:function(t){e.search=t}}}),e._v(" "),n("v-treeview",{attrs:{items:e.users,search:e.search,active:e.active,open:e.open,activatable:"","open-on-click":"","active-class":"primary--text",transition:""},on:{"update:active":function(t){e.active=t},"update:open":function(t){e.open=t}},scopedSlots:e._u([{key:"prepend",fn:function(t){var c=t.item,o=t.active;return[c.id.startsWith("Role.name")?n("v-icon",{attrs:{color:o?"primary":""}},[e._v("mdi-check")]):c.id.startsWith("Team.name_")?n("v-icon",{attrs:{color:o?"primary":""}},[e._v("mdi-check")]):c.name.includes("id :")?n("v-icon",{attrs:{color:o?"primary":""}},[e._v("mdi-check")]):e._e()]}}])})],1)}),[],!1,null,null,null),V=T.exports;f()(T,{VIcon:S.a,VTreeview:j.a});n(20)("app:comp.admins-accounts-roles");var $={components:{TreeviewTopBar:w},props:{getSelObject:Function},data:function(){return{search:"",active:[],open:[]}},computed:{roles:function(){var data=[],e=this.$store.state.roles.idField,t=this.$FeathersVuex.Role.findInStore({query:{$sort:{name:1}}}).data;return t.forEach((function(t){var n=t[e],c=[];t.users.forEach((function(e){c.push({id:"User.fullName_".concat(e.id),name:"".concat(e.fullName)})}));var o={id:"Role.name_".concat(n),name:"".concat(t.name," :"),children:[{id:"Role.id_".concat(n),name:"id : ".concat(n)},{id:"Role.users_".concat(n),name:"Users(".concat(c.length?c.length:"Not",") :"),children:c}]};data.push(o)})),data},selected:function(){if(this.active.length){var e=this.active[0];return this.getSelObject(e)}}},watch:{selected:function(e){e&&this.openDialog()}},methods:{openDialog:function(){this.$emit("onOpenDialog")}}},D=Object(v.a)($,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("treeview-top-bar",{attrs:{search:e.search,labelSearch:e.$t("management.search")},on:{onSearch:function(t){e.search=t}}}),e._v(" "),n("v-treeview",{attrs:{items:e.roles,search:e.search,active:e.active,open:e.open,activatable:"","open-on-click":"","active-class":"primary--text",transition:""},on:{"update:active":function(t){e.active=t},"update:open":function(t){e.open=t}},scopedSlots:e._u([{key:"prepend",fn:function(t){var c=t.item,o=t.active;return[c.id.startsWith("User.fullName")?n("v-icon",{attrs:{color:o?"primary":""}},[e._v("mdi-check")]):c.name.includes("id :")?n("v-icon",{attrs:{color:o?"primary":""}},[e._v("mdi-check")]):e._e()]}}])})],1)}),[],!1,null,null,null),I=D.exports;f()(D,{VIcon:S.a,VTreeview:j.a});n(20)("app:comp.admins-accounts-teams");var N={components:{TreeviewTopBar:w},props:{getSelObject:Function},data:function(){return{search:"",active:[],open:[]}},computed:{teams:function(){var data=[],e=this.$store.state.teams.idField,t=this.$FeathersVuex.Team.findInStore({query:{$sort:{name:1}}}).data;return t.forEach((function(t){var n=t[e],c=[];t.members.forEach((function(e){c.push({id:"User.fullName_".concat(e.id),name:"".concat(e.fullName)})}));var o={id:"Team.name_".concat(n),name:"".concat(t.name," :"),children:[{id:"Team.id_".concat(n),name:"id : ".concat(n)},{id:"Team.members".concat(n),name:"Members(".concat(c.length?c.length:"Not",") :"),children:c}]};data.push(o)})),data},selected:function(){if(this.active.length){var e=this.active[0];return this.getSelObject(e)}}},watch:{selected:function(e){e&&this.openDialog()}},methods:{openDialog:function(){this.$emit("onOpenDialog")}}},E=Object(v.a)(N,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("treeview-top-bar",{attrs:{search:e.search,labelSearch:e.$t("management.search")},on:{onSearch:function(t){e.search=t}}}),e._v(" "),n("v-treeview",{attrs:{items:e.teams,search:e.search,active:e.active,open:e.open,activatable:"","open-on-click":"","active-class":"primary--text",transition:""},on:{"update:active":function(t){e.active=t},"update:open":function(t){e.open=t}},scopedSlots:e._u([{key:"prepend",fn:function(t){var c=t.item,o=t.active;return[c.id.startsWith("User.fullName")?n("v-icon",{attrs:{color:o?"primary":""}},[e._v("mdi-check")]):c.name.includes("id :")?n("v-icon",{attrs:{color:o?"primary":""}},[e._v("mdi-check")]):e._e()]}}])})],1)}),[],!1,null,null,null),P=E.exports;function C(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}f()(E,{VIcon:S.a,VTreeview:j.a});var F=n(20)("app:page.admins-accounts"),U={components:{AppPageHeader:r.a,ViewDialog:l.a,PanelsTopBar:m.a,AdminsAccountsUsers:V,AdminsAccountsRoles:I,AdminsAccountsTeams:P},data:function(){return{title:this.$t("accounts.title"),description:this.$t("accounts.description"),dialog:!1,modelName:"",itemName:"",selItems:[],panels:[],items:[{panel:"users",name:this.$t("accounts.users"),icon:"mdi-account-multiple"},{panel:"roles",name:this.$t("accounts.roles"),icon:"mdi-security"},{panel:"teams",name:this.$t("accounts.teams"),icon:"mdi-account-group"}]}},head:function(){return{title:this.title,meta:[{hid:"description",name:"description",content:this.description}]}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(source,!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):C(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.c)({config:"getConfig"})),methods:{allOpen:function(){this.panels=this.items.map((function(e,i){return i}))},allClose:function(){this.panels=[]},getFieldName:function(e){var t="";switch(e){case"Role":case"Team":t="name";break;case"User":t="fullName";break;default:t=""}return t},getSelObject:function(e){var t=n(948),c=n(205),o=n(420),r=e.split("_")[1],l=e.split(".")[0];F("getSelObject.model:",l),this.modelName=l;var m=this.getFieldName(l),d=(l=this.$FeathersVuex[l]).getFromStore(r);this.itemName=m?d[m]:"";var v={};t(d,(function(e,t){"__v"===t||c(e)||(v[t]=e)}));var h=Object.keys(v);h.sort();var f={};return h.forEach((function(e){f[e]=v[e]})),this.selItems=o(f),f}}},B=n(994),R=n(995),A=n(996),L=n(997),W=n(258),H=n(149),M=n(27),J=Object(v.a)(U,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("view-dialog",{attrs:{dialog:e.dialog,"max-width":570,"header-icon":"mdi-account-check","header-title":e.$t("graphql.responseToRequest"),"action-text":e.$t("management.close")},on:{onClose:function(t){e.dialog=!1}}},[n("div",{attrs:{slot:"view-content"},slot:"view-content"},[n("v-list",{attrs:{"three-line":""}},[e._l(e.selItems,(function(t,c){return[n("v-list-item",{key:c,on:{click:function(e){}}},[n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:e._s(t[0]+" :")}}),e._v(" "),n("v-list-item-subtitle",{domProps:{innerHTML:e._s(t[1])}})],1)],1)]}))],2)],1)]),e._v(" "),n("app-page-header",{attrs:{"page-title":e.description}}),e._v(" "),n("div",[n("panels-top-bar",{attrs:{"btn1-text":e.$t("accounts.allOpen"),"btn2-text":e.$t("accounts.allClose"),"click-btn1":e.allOpen,"click-btn2":e.allClose}}),e._v(" "),n("v-expansion-panels",{attrs:{focusable:"",multiple:"",inset:""},model:{value:e.panels,callback:function(t){e.panels=t},expression:"panels"}},e._l(e.items,(function(t,i){return n("v-expansion-panel",{key:i},[n("v-expansion-panel-header",[n("div",{staticClass:"d-flex align-baseline"},[n("v-icon",{staticClass:"mr-3"},[e._v(e._s(t.icon))]),e._v(" "),n("span",[e._v(e._s(t.name))])],1)]),e._v(" "),n("v-expansion-panel-content",["users"===t.panel?n("admins-accounts-users",{attrs:{"get-sel-object":e.getSelObject},on:{onOpenDialog:function(t){e.dialog=!0}}}):"roles"===t.panel?n("admins-accounts-roles",{attrs:{"get-sel-object":e.getSelObject},on:{onOpenDialog:function(t){e.dialog=!0}}}):"teams"===t.panel?n("admins-accounts-teams",{attrs:{"get-sel-object":e.getSelObject},on:{onOpenDialog:function(t){e.dialog=!0}}}):e._e()],1)],1)})),1)],1)],1)}),[],!1,null,null,null);t.default=J.exports;f()(J,{VExpansionPanel:B.a,VExpansionPanelContent:R.a,VExpansionPanelHeader:A.a,VExpansionPanels:L.a,VIcon:S.a,VList:W.a,VListItem:H.a,VListItemContent:M.b,VListItemSubtitle:M.c,VListItemTitle:M.d})}}]);
//# sourceMappingURL=285eb921d274db402529.js.map